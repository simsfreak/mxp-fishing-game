
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MXP Fishing Minigame with Sprite Sheet</title>
  <style>
    body {
      background-color: #b2ebf2;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    .fishing-ui {
      width: 400px;
      background: #fff8e1;
      padding: 20px;
      border: 4px solid #3e3e3e;
      border-radius: 10px;
      box-shadow: 5px 5px 0 #888;
      text-align: center;
    }

    .bait-row {
      display: flex;
      justify-content: space-around;
      margin-bottom: 15px;
    }

    .bait-icon {
      width: 64px;
      height: 64px;
      background-image: url('images/bait-spritesheet.png');
      background-repeat: no-repeat;
      background-size: 256px 64px; /* 4 icons in a 256x64 image */
      border-radius: 10px;
      border: 2px solid #aaa;
    }

    .bait-worm    { background-position: 0 0; }
    .bait-squid   { background-position: -64px 0; }
    .bait-spinner { background-position: -128px 0; }
    .bait-fishcake{ background-position: -192px 0; }

    .slider-box {
      position: relative;
      height: 20px;
      background: #ccc;
      border-radius: 10px;
      margin: 15px 0;
      overflow: hidden;
    }

    .green-zone {
      position: absolute;
      height: 100%;
      background: lightgreen;
      width: 20%;
      left: 40%;
    }

    .pointer {
      position: absolute;
      width: 10px;
      height: 100%;
      background: red;
      left: 0;
    }

    .cast-btn {
      margin-top: 10px;
      padding: 10px 20px;
      background: orange;
      border: none;
      font-weight: bold;
      border-radius: 6px;
      cursor: pointer;
      color: white;
    }

    .result {
      margin-top: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="fishing-ui">
    <div class="bait-row">
      <div class="bait-icon bait-worm" title="Worm"></div>
      <div class="bait-icon bait-squid" title="Squid"></div>
      <div class="bait-icon bait-spinner" title="Spinner"></div>
      <div class="bait-icon bait-fishcake" title="Fish Cake"></div>
    </div>

    <div class="slider-box">
      <div class="green-zone"></div>
      <div class="pointer" id="pointer"></div>
    </div>

    <button class="cast-btn" onclick="stopSlider()">CAST</button>
    <div class="result" id="result">Try your luck!</div>
  </div>

  <script>
    let direction = 1;
    let pos = 0;
    let interval;
    const pointer = document.getElementById('pointer');

    function moveSlider() {
      const slider = document.querySelector('.slider-box');
      const max = slider.offsetWidth - pointer.offsetWidth;
      pos += direction * 2;
      if (pos <= 0 || pos >= max) direction *= -1;
      pointer.style.left = pos + 'px';
    }

    function startSlider() {
      clearInterval(interval);
      interval = setInterval(moveSlider, 10);
    }

    function stopSlider() {
      clearInterval(interval);
      const pointerCenter = pos + pointer.offsetWidth / 2;
      const green = document.querySelector('.green-zone');
      const greenLeft = green.offsetLeft;
      const greenRight = greenLeft + green.offsetWidth;
      const result = document.getElementById('result');

      if (pointerCenter >= greenLeft && pointerCenter <= greenRight) {
        result.textContent = "🎣 You caught something!";
        result.style.color = "green";
      } else {
        result.textContent = "🐟 The fish got away...";
        result.style.color = "red";
      }

      setTimeout(() => {
        result.textContent = "Try your luck!";
        result.style.color = "black";
        startSlider();
      }, 1500);
    }

    startSlider();
  </script>
</body>
</html>
